---
title: "Introduction to the evclust package"
author: "Thierry Denoeux"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to the evclust package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
The package `evclust` contains methods for *evidential clustering*. In evidential clustering, cluster membership  uncertainty is represented by Dempster-Shafer mass functions. The user is invited to read the papers cited in the documentation to get familiar with the main concepts underlying evidential clustering. These papers can be downloaded from the author's web site, at <https://www.hds.utc.fr/~tdenoeux>. In this document, we provide a guided tour of the main functions in the `evclust` package. You first need to install this package:

```{r, message=FALSE}
library(evclust)
```


## Evidential c-means (ECM) algorithm

The Evidential $c$-means (ECM) algorithm  is a $c$-means-like algorithm that minimizes a cost function by searching alternatively  the space of prototypes and the space of credal partitions. Unlike  the hard and fuzzy $c$-means algorithms, ECM associates a prototype not only to clusters, but also to sets of clusters. The prototype associated to a set of clusters is defined as the barycenter of the prototypes of each single cluster in the set. The cost function to be minimized insures that objects close to a prototype have a high mass assigned to the corresponding set of clusters. 

Consider, for instance, the `fourclass` data. This dataset consist in four clusters in a two-dimensional space. 

```{r}
data(fourclass)
x<-fourclass[,1:2]
y<-fourclass[,3]
plot(x[,1],x[,2],pch=y,col=y,xlab=expression(x[1]),ylab=expression(x[2]))
```

We can run ECM with `c=4` clusters on this data as follows:

```{r}
clus<-ecm(x,c=4,type='full',alpha=1,beta=2,delta=sqrt(20),disp=FALSE)
```

The option `type='full'` is actually the default option. It means that mass functions in the credal partition will have 2^c^ focal sets. You can get basic information about the credal partition using the method `summary`:

```{r}
summary(clus)
```

We can restrict the focals set to pairs by changing the `type` option.

```{r}
clus<-ecm(x,c=4,type='pairs',alpha=1,beta=2,delta=sqrt(20),disp=FALSE)
summary(clus)
```

A plot of the credal partition can be generated as follows:

```{r, fig.width=6, fig.height=6}
clus<-ecm(x,c=4,type='pairs',alpha=1,beta=2,delta=sqrt(20),disp=FALSE)
plot(clus,x,mfrow=c(2,2),ytrue=y,approx=2)
```

In this plot, the lower and upper approximations of each cluster are plotted as solid and interrupted lines, respectively. Since we selected `approx=2`, the lower and upper approximations are defined as follows. Let $A_i$ be the focal set of mass function $m_i$ with the highest mass. The lower approximation of cluster $\omega_k$  is  the set of objects such that $A_i=\{\omega_k\}$, while the upper approximation is  the set of objects such that $\omega_k \in A_i$. The outliers are the objects such that $A_i=\emptyset$. They are displayed as circles in the figure above.

## RECM

The Relational Evidential c-means algorithm (RECM)

